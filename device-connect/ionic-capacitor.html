<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>DeviceConnect: Ionic Capacitor | FinBox Documentation</title>
    <meta name="generator" content="VuePress 1.9.10">
    
    <meta name="description" content="Documentation for FinBox SDK">
    
    <link rel="preload" href="/assets/css/0.styles.2320aabd.css" as="style"><link rel="preload" href="/assets/js/app.f1ad2888.js" as="script"><link rel="preload" href="/assets/js/4.7f609412.js" as="script"><link rel="preload" href="/assets/js/2.a409744d.js" as="script"><link rel="preload" href="/assets/js/1.9be25c31.js" as="script"><link rel="preload" href="/assets/js/57.7a8c680e.js" as="script"><link rel="preload" href="/assets/js/24.440f9dc2.js" as="script"><link rel="prefetch" href="/assets/js/100.b9a00bce.js"><link rel="prefetch" href="/assets/js/101.f1fab73c.js"><link rel="prefetch" href="/assets/js/102.91007e8b.js"><link rel="prefetch" href="/assets/js/103.3945f621.js"><link rel="prefetch" href="/assets/js/104.4d33e7db.js"><link rel="prefetch" href="/assets/js/105.9f9fe369.js"><link rel="prefetch" href="/assets/js/106.0e340ff0.js"><link rel="prefetch" href="/assets/js/107.57b25d00.js"><link rel="prefetch" href="/assets/js/11.a81d671e.js"><link rel="prefetch" href="/assets/js/12.0c346857.js"><link rel="prefetch" href="/assets/js/13.59d89b18.js"><link rel="prefetch" href="/assets/js/14.473dec51.js"><link rel="prefetch" href="/assets/js/15.e28d3a0b.js"><link rel="prefetch" href="/assets/js/16.062030b1.js"><link rel="prefetch" href="/assets/js/17.37a5d2b1.js"><link rel="prefetch" href="/assets/js/18.120b49a6.js"><link rel="prefetch" href="/assets/js/19.d64eb9ef.js"><link rel="prefetch" href="/assets/js/20.80932b38.js"><link rel="prefetch" href="/assets/js/21.0e968812.js"><link rel="prefetch" href="/assets/js/22.2c093f2d.js"><link rel="prefetch" href="/assets/js/23.14acaf9e.js"><link rel="prefetch" href="/assets/js/25.27f414f5.js"><link rel="prefetch" href="/assets/js/26.ed9d79d6.js"><link rel="prefetch" href="/assets/js/27.52227f32.js"><link rel="prefetch" href="/assets/js/28.d618af18.js"><link rel="prefetch" href="/assets/js/29.fd43e5e2.js"><link rel="prefetch" href="/assets/js/3.a6163b8f.js"><link rel="prefetch" href="/assets/js/30.3e4c521a.js"><link rel="prefetch" href="/assets/js/31.806a20bb.js"><link rel="prefetch" href="/assets/js/32.e7bb2a18.js"><link rel="prefetch" href="/assets/js/33.b0d644ad.js"><link rel="prefetch" href="/assets/js/34.59a51f1b.js"><link rel="prefetch" href="/assets/js/35.9b037c0c.js"><link rel="prefetch" href="/assets/js/36.025a2357.js"><link rel="prefetch" href="/assets/js/37.f6416c7b.js"><link rel="prefetch" href="/assets/js/38.78c214b3.js"><link rel="prefetch" href="/assets/js/39.8cfd613c.js"><link rel="prefetch" href="/assets/js/40.e651aad0.js"><link rel="prefetch" href="/assets/js/41.fc787887.js"><link rel="prefetch" href="/assets/js/42.cc19a1fa.js"><link rel="prefetch" href="/assets/js/43.1f01048a.js"><link rel="prefetch" href="/assets/js/44.0381b6da.js"><link rel="prefetch" href="/assets/js/45.f7cc88ac.js"><link rel="prefetch" href="/assets/js/46.be9e34cb.js"><link rel="prefetch" href="/assets/js/47.271bf426.js"><link rel="prefetch" href="/assets/js/48.c739361e.js"><link rel="prefetch" href="/assets/js/49.f3594208.js"><link rel="prefetch" href="/assets/js/5.d6aeb4c8.js"><link rel="prefetch" href="/assets/js/50.19ad9af9.js"><link rel="prefetch" href="/assets/js/51.6a1d35d9.js"><link rel="prefetch" href="/assets/js/52.d39172fa.js"><link rel="prefetch" href="/assets/js/53.9575aa46.js"><link rel="prefetch" href="/assets/js/54.0c56d067.js"><link rel="prefetch" href="/assets/js/55.1d53273e.js"><link rel="prefetch" href="/assets/js/56.3b52e90b.js"><link rel="prefetch" href="/assets/js/58.1caba1dd.js"><link rel="prefetch" href="/assets/js/59.6c97d9b9.js"><link rel="prefetch" href="/assets/js/6.2927104c.js"><link rel="prefetch" href="/assets/js/60.a64cb9a6.js"><link rel="prefetch" href="/assets/js/61.216e68de.js"><link rel="prefetch" href="/assets/js/62.cfe61554.js"><link rel="prefetch" href="/assets/js/63.6ef4ecf2.js"><link rel="prefetch" href="/assets/js/64.364c9af2.js"><link rel="prefetch" href="/assets/js/65.d9e0bc7d.js"><link rel="prefetch" href="/assets/js/66.95f224a0.js"><link rel="prefetch" href="/assets/js/67.d70fb967.js"><link rel="prefetch" href="/assets/js/68.9cb098ff.js"><link rel="prefetch" href="/assets/js/69.f3d61396.js"><link rel="prefetch" href="/assets/js/7.87013b79.js"><link rel="prefetch" href="/assets/js/70.4d913911.js"><link rel="prefetch" href="/assets/js/71.b0ecd017.js"><link rel="prefetch" href="/assets/js/72.07d454af.js"><link rel="prefetch" href="/assets/js/73.dfefa1e0.js"><link rel="prefetch" href="/assets/js/74.d02f07ce.js"><link rel="prefetch" href="/assets/js/75.ad6ad5d6.js"><link rel="prefetch" href="/assets/js/76.45c478b5.js"><link rel="prefetch" href="/assets/js/77.1d92a756.js"><link rel="prefetch" href="/assets/js/78.0d51b3e4.js"><link rel="prefetch" href="/assets/js/79.8c655c54.js"><link rel="prefetch" href="/assets/js/8.f340bc97.js"><link rel="prefetch" href="/assets/js/80.a93a3b3a.js"><link rel="prefetch" href="/assets/js/81.33f765e0.js"><link rel="prefetch" href="/assets/js/82.314f317c.js"><link rel="prefetch" href="/assets/js/83.6e5c9c28.js"><link rel="prefetch" href="/assets/js/84.60744cb0.js"><link rel="prefetch" href="/assets/js/85.3a6d47b4.js"><link rel="prefetch" href="/assets/js/86.b105ca50.js"><link rel="prefetch" href="/assets/js/87.47f4ca9e.js"><link rel="prefetch" href="/assets/js/88.b53ebdf1.js"><link rel="prefetch" href="/assets/js/89.f3fc5cff.js"><link rel="prefetch" href="/assets/js/90.0cb1c50a.js"><link rel="prefetch" href="/assets/js/91.f06aeec9.js"><link rel="prefetch" href="/assets/js/92.81a385d4.js"><link rel="prefetch" href="/assets/js/93.285aa60e.js"><link rel="prefetch" href="/assets/js/94.af6873eb.js"><link rel="prefetch" href="/assets/js/95.1b60e247.js"><link rel="prefetch" href="/assets/js/96.f1ca28f9.js"><link rel="prefetch" href="/assets/js/97.0d8be63e.js"><link rel="prefetch" href="/assets/js/98.1da7185d.js"><link rel="prefetch" href="/assets/js/99.a49309cf.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.0464d051.js">
    <link rel="stylesheet" href="/assets/css/0.styles.2320aabd.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-692ea4ed><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/header.svg" alt="FinBox Documentation" class="logo"> <span class="site-name can-hide">FinBox Documentation</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/device-connect/" class="nav-link router-link-active">
  DeviceConnect
</a></div><div class="nav-item"><a href="/session-flow/" class="nav-link">
  BankConnect
</a></div><div class="nav-item"><a href="https://finbox.in" target="_blank" rel="noopener noreferrer" class="nav-link external">
  About
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/device-connect/" class="nav-link router-link-active">
  DeviceConnect
</a></div><div class="nav-item"><a href="/session-flow/" class="nav-link">
  BankConnect
</a></div><div class="nav-item"><a href="https://finbox.in" target="_blank" rel="noopener noreferrer" class="nav-link external">
  About
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Overview</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/device-connect/" aria-current="page" class="sidebar-link">Introduction</a></li><li><a href="/device-connect/getting-started.html" class="sidebar-link">Getting Started</a></li><li><a href="/device-connect/architecture.html" class="sidebar-link">Architecture</a></li><li><a href="/device-connect/integration-flow.html" class="sidebar-link">DeviceConnect Integration</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Data Collection</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/device-connect/mobile-integration.html" class="sidebar-link">FrontEnd Integration</a></li><li><a href="/device-connect/permissions.html" class="sidebar-link">Handling Permissions</a></li><li><a href="/device-connect/android.html" class="sidebar-link">Android SDK setup</a></li><li><a href="/device-connect/react-native.html" class="sidebar-link">React Native SDK setup</a></li><li><a href="/device-connect/flutter.html" class="sidebar-link">Flutter SDK setup</a></li><li><a href="/device-connect/cordova.html" class="sidebar-link">Cordova SDK setup</a></li><li><a href="/device-connect/ionic-capacitor.html" aria-current="page" class="active sidebar-link">Ionic Capacitor SDK setup</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/device-connect/ionic-capacitor.html#requirements" class="sidebar-link">Requirements</a></li><li class="sidebar-sub-header"><a href="/device-connect/ionic-capacitor.html#add-plugin" class="sidebar-link">Add Plugin</a></li><li class="sidebar-sub-header"><a href="/device-connect/ionic-capacitor.html#create-user" class="sidebar-link">Create User</a></li><li class="sidebar-sub-header"><a href="/device-connect/ionic-capacitor.html#start-periodic-sync" class="sidebar-link">Start Periodic Sync</a></li><li class="sidebar-sub-header"><a href="/device-connect/ionic-capacitor.html#match-details-on-device" class="sidebar-link">Match Details on Device</a></li><li class="sidebar-sub-header"><a href="/device-connect/ionic-capacitor.html#forward-notifications-to-sdk" class="sidebar-link">Forward Notifications to SDK</a></li><li class="sidebar-sub-header"><a href="/device-connect/ionic-capacitor.html#cancel-periodic" class="sidebar-link">Cancel Periodic</a></li><li class="sidebar-sub-header"><a href="/device-connect/ionic-capacitor.html#handle-sync-frequency" class="sidebar-link">Handle Sync Frequency</a></li><li class="sidebar-sub-header"><a href="/device-connect/ionic-capacitor.html#reset-user-data" class="sidebar-link">Reset User Data</a></li><li class="sidebar-sub-header"><a href="/device-connect/ionic-capacitor.html#forget-user" class="sidebar-link">Forget User</a></li></ul></li><li><a href="/device-connect/error-codes.html" class="sidebar-link">Error Codes</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Fetching Insights and Predictors</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/device-connect/insights-integration-flow.html" class="sidebar-link">Backend Integration</a></li><li><a href="/device-connect/insights-api.html" class="sidebar-link">Insights API</a></li><li><a href="/device-connect/salt-generation.html" class="sidebar-link">Salt Generation</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>FAQ</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="deviceconnect-ionic-capacitor"><a href="#deviceconnect-ionic-capacitor" class="header-anchor">#</a> DeviceConnect: Ionic Capacitor</h1> <p>The DeviceConnect Ionic Capacitor SDK enables the collection of anonymized, non-PII data from user devices, ensuring compliance with privacy policies by obtaining explicit user consent before initiating data sync processes.</p> <h2 id="requirements"><a href="#requirements" class="header-anchor">#</a> Requirements</h2> <p>Device Connect SDK works on Android 5.0+ (API level 21+), requires Java 8+, and uses AndroidX libraries. To ensure compatibility with Android 7.0 and below, enable desugaring in the project build settings.</p> <div class="code-switcher"><div class="tab-header"><ul><li class="active"> Kotlin
            </li><li> Groovy
            </li></ul></div> <div class="tab-content" style="display:;"><div class="language-kotlin extra-class"><pre class="language-kotlin"><code>android <span class="token punctuation">{</span>
    <span class="token operator">..</span><span class="token punctuation">.</span>
    defaultConfig <span class="token punctuation">{</span>
        <span class="token operator">..</span><span class="token punctuation">.</span>
        <span class="token comment">// Minimum 5.0+ devices</span>
        minSdk <span class="token number">21</span>
        <span class="token operator">..</span><span class="token punctuation">.</span>
    <span class="token punctuation">}</span>
    <span class="token operator">..</span><span class="token punctuation">.</span>
    compileOptions <span class="token punctuation">{</span>
        <span class="token comment">// Flag to enable support for the new language APIs</span>
        coreLibraryDesugaringEnabled <span class="token operator">=</span> <span class="token boolean">true</span>
        <span class="token comment">// Sets Java compatibility to Java 8</span>
        sourceCompatibility <span class="token operator">=</span> JavaVersion<span class="token punctuation">.</span>VERSION_1_8
        targetCompatibility <span class="token operator">=</span> JavaVersion<span class="token punctuation">.</span>VERSION_1_8
    <span class="token punctuation">}</span>
    <span class="token comment">// For Kotlin projects</span>
    kotlinOptions <span class="token punctuation">{</span>
        jvmTarget <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">&quot;1.8&quot;</span></span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

dependencies <span class="token punctuation">{</span>
    <span class="token function">coreLibraryDesugaring</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;com.android.tools:desugar_jdk_libs:1.1.5&quot;</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div></div><div class="tab-content" style="display:none;"><div class="language-groovy extra-class"><pre class="language-groovy"><code>android <span class="token punctuation">{</span>
    <span class="token punctuation">...</span>
    defaultConfig <span class="token punctuation">{</span>
        <span class="token punctuation">...</span>
        <span class="token comment">// Minimum 5.0+ devices</span>
        minSdkVersion <span class="token number">21</span>
        <span class="token punctuation">...</span>
    <span class="token punctuation">}</span>
    <span class="token punctuation">...</span>
    compileOptions <span class="token punctuation">{</span>
        <span class="token comment">// Flag to enable support for the new language APIs</span>
        coreLibraryDesugaringEnabled <span class="token boolean">true</span>
        <span class="token comment">// Sets Java compatibility to Java 8</span>
        sourceCompatibility JavaVersion<span class="token punctuation">.</span>VERSION_1_8
        targetCompatibility JavaVersion<span class="token punctuation">.</span>VERSION_1_8
    <span class="token punctuation">}</span>
    <span class="token comment">// For Kotlin projects</span>
    kotlinOptions <span class="token punctuation">{</span>
        jvmTarget <span class="token operator">=</span> <span class="token interpolation-string"><span class="token string">&quot;1.8&quot;</span></span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

dependencies <span class="token punctuation">{</span>
    coreLibraryDesugaring <span class="token string">'com.android.tools:desugar_jdk_libs:1.1.5'</span>
<span class="token punctuation">}</span>
</code></pre></div></div></div> <h2 id="add-plugin"><a href="#add-plugin" class="header-anchor">#</a> Add Plugin</h2> <p>Specify the following keys in <code>local.properties</code> file:</p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token key attr-name">ACCESS_KEY</span><span class="token punctuation">=</span><span class="token value attr-value">&lt;ACCESS_KEY&gt;</span>
<span class="token key attr-name">SECRET_KEY</span><span class="token punctuation">=</span><span class="token value attr-value">&lt;SECRET_KEY&gt;</span>
<span class="token key attr-name">DC_SDK_VERSION</span><span class="token punctuation">=</span><span class="token value attr-value">&lt;DC_SDK_VERSION&gt;</span>
<span class="token key attr-name">COMMON_SDK_VERSION</span><span class="token punctuation">=</span><span class="token value attr-value">&lt;COMMON_SDK_VERSION&gt;</span>
<span class="token key attr-name">COMMON_FLAVOR</span><span class="token punctuation">=</span><span class="token value attr-value">&lt;COMMON_FLAVOR&gt;</span>
<span class="token key attr-name">LOGGER_SDK_VERSION</span><span class="token punctuation">=</span><span class="token value attr-value">&lt;LOGGER_SDK_VERSION&gt;</span>
</code></pre></div><p>In the project level <code>build.gradle</code> file, add the repository urls to all <code>allprojects</code> block.</p> <div class="code-switcher"><div class="tab-header"><ul><li class="active"> Kotlin
            </li><li> Groovy
            </li></ul></div> <div class="tab-content" style="display:;"><div class="language-kotlin extra-class"><pre class="language-kotlin"><code>maven <span class="token punctuation">{</span>
    <span class="token function">setUrl</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;s3://risk-manager-android-sdk/artifacts&quot;</span></span><span class="token punctuation">)</span>
    <span class="token function">credentials</span><span class="token punctuation">(</span>AwsCredentials<span class="token operator">::</span><span class="token keyword">class</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        accessKey <span class="token operator">=</span> <span class="token operator">&lt;</span>ACCESS_KEY<span class="token operator">&gt;</span>
        secretKey <span class="token operator">=</span> <span class="token operator">&lt;</span>SECRET_KEY<span class="token operator">&gt;</span>
    <span class="token punctuation">}</span>
    content <span class="token punctuation">{</span>
        <span class="token function">includeGroup</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;in.finbox&quot;</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></div><div class="tab-content" style="display:none;"><div class="language-groovy extra-class"><pre class="language-groovy"><code>maven <span class="token punctuation">{</span>
    url <span class="token interpolation-string"><span class="token string">&quot;s3://risk-manager-android-sdk/artifacts&quot;</span></span>
    <span class="token function">credentials</span><span class="token punctuation">(</span>AwsCredentials<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        accessKey <span class="token operator">=</span> <span class="token operator">&lt;</span>ACCESS_KEY<span class="token operator">&gt;</span>
        secretKey <span class="token operator">=</span> <span class="token operator">&lt;</span>SECRET_KEY<span class="token operator">&gt;</span>
    <span class="token punctuation">}</span>
    content <span class="token punctuation">{</span>
        <span class="token function">includeGroup</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">&quot;in.finbox&quot;</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></div></div> <p>Add plugin dependency</p> <div class="code-switcher"><div class="tab-header"><ul><li class="active"> NPM
            </li><li> Yarn
            </li></ul></div> <div class="tab-content" style="display:;"><div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">npm</span> <span class="token function">install</span> <span class="token parameter variable">--save</span> ionic-risk-sdk
</code></pre></div></div><div class="tab-content" style="display:none;"><div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">yarn</span> <span class="token function">add</span> ionic-risk-sdk
</code></pre></div></div></div> <p>Register our SDK using <code>registerPlugin(IonicRiskSdkPlugin.class);</code> in your <code>MainActivity</code> class.</p> <div class="custom-block warning"><p class="custom-block-title">NOTE</p> <p>Following will be shared by FinBox team at the time of integration:</p> <ul><li><code>ACCESS_KEY</code></li> <li><code>SECRET_KEY</code></li> <li><code>DC_SDK_VERSION</code></li> <li><code>COMMON_SDK_VERSION</code></li> <li><code>COMMON_FLAVOR</code></li> <li><code>LOGGER_SDK_VERSION</code></li> <li><code>CLIENT_API_KEY</code></li></ul></div> <h2 id="create-user"><a href="#create-user" class="header-anchor">#</a> Create User</h2> <p>To create a user, call the <code>createUser</code> method with the following arguments:</p> <ul><li>Client API Key</li> <li>Customer ID</li></ul> <div class="custom-block danger"><p class="custom-block-title">IMPORTANT</p> <ul><li><code>CUSTOMER_ID</code> Must be <strong>alphanumeric</strong> (no special characters).</li> <li>Should not exceed <strong>64</strong> characters.</li> <li>Must not be <code>null</code> or an empty string <code>&quot;&quot;</code>.</li></ul></div> <p>The response to this method (success or failure) can be captured using the callback.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> IonicRiskSdk <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'ionic-risk-sdk'</span><span class="token punctuation">;</span>
<span class="token comment">//Function to trigger RiskSdk</span>
<span class="token keyword">const</span> token <span class="token operator">=</span> <span class="token keyword">await</span> IonicRiskSdk<span class="token punctuation">.</span><span class="token function">createUser</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">apiKey</span><span class="token operator">:</span> <span class="token constant">API_KEY</span><span class="token punctuation">,</span> <span class="token literal-property property">customerId</span><span class="token operator">:</span> <span class="token constant">CUSTOMER_ID</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>You can read about the errors in the <a href="/device-connect/error-codes.html">Error Codes</a> section.</p> <h2 id="start-periodic-sync"><a href="#start-periodic-sync" class="header-anchor">#</a> Start Periodic Sync</h2> <p>The startPeriodicSync method should be invoked only after receiving a successful response from the <code>createUser</code> method callback. This method initiates background syncing for all data sources based on the permissions granted by the user. Data is synced at regular intervals in the background, ensuring continuous and seamless data collection.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>IonicRiskSdk<span class="token punctuation">.</span><span class="token function">startPeriodicSync</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Start the sync periodically after every 12 hour</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">RECOMMENDATION</p> <p>To handle cross-login scenarios:</p> <p>When a user logs back into the app with fresh credentials:</p> <ul><li>Call the <code>createUser</code> method to register the new user.</li> <li>Follow it by <code>startPeriodicSync</code> to resume data syncing for the new user.
Even though the SDK automatically adapts to a new user, this approach minimizes potential delays in syncing during the first session</li></ul></div> <h2 id="match-details-on-device"><a href="#match-details-on-device" class="header-anchor">#</a> Match Details on Device</h2> <p>Device matching enables additional pattern recognition to match email, phone numbers and name. The matching happens on the device and the user phone numbers, email addresses won't leave the device.</p> <p>To set up device matching in your Ionic Capacitor project, use the following method with the customer's email address, phone number, and name:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>IonicRiskSdk<span class="token punctuation">.</span><span class="token function">setDeviceMatch</span><span class="token punctuation">(</span><span class="token string">&quot;useremail@gmail.com&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Full Name&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;9999999999&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="forward-notifications-to-sdk"><a href="#forward-notifications-to-sdk" class="header-anchor">#</a> Forward Notifications to SDK</h2> <p>Certain phone manufacturers, implement aggressive battery optimization features that kill apps running in the background after a certain period of inactivity. This can prevent the DeviceConnect SDK's continuous syncing from functioning properly, as it relies on background data collection. In such cases, FinBox’s server may need to request data from the SDK when continuous sync has stopped.</p> <p>To enable this functionality, we use Firebase Cloud Messaging (FCM) notifications process. Forwarding these notifications allows the app to &quot;wake up&quot; if it has been killed by the device’s background processes, ensuring continuous data collection. When the app receives an FCM notification, it &quot;wakes up&quot; and continues collecting the necessary data for integration.</p> <p>Configure Firebase Cloud Messaging (FCM) in your Ionic Capacitor project and implement a notification handler to forward received notifications to the DeviceConnect SDK.</p> <p>Here’s an example of how to forward FCM notifications:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>IonicRiskSdk<span class="token punctuation">.</span><span class="token function">forwardFinBoxNotificationToSDK</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="cancel-periodic"><a href="#cancel-periodic" class="header-anchor">#</a> Cancel Periodic</h2> <p>Make sure to cancel data synchronization tasks when the user logs out of the app by using the <code>stopPeriodicSync</code> method. This ensures that no background sync operations continue unnecessarily, maintaining data security.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>IonicRiskSdk<span class="token punctuation">.</span><span class="token function">stopPeriodicSync</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="handle-sync-frequency"><a href="#handle-sync-frequency" class="header-anchor">#</a> Handle Sync Frequency</h2> <p>By default, the sync frequency is set to <strong>8 hours</strong>. You can customize this frequency by calling the <code>setSyncFrequency</code> method and passing your preferred interval <strong>in seconds</strong> as an argument. Ensure this method is invoked after the user is created</p> <h2 id="reset-user-data"><a href="#reset-user-data" class="header-anchor">#</a> Reset User Data</h2> <p>If you need to clear a user's data stored on the device and initiate a fresh data sync, use the <code>resetData</code> method. This ensures that all previous data is removed, and syncing starts from scratch.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>IonicRiskSdk<span class="token punctuation">.</span><span class="token function">resetData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="forget-user"><a href="#forget-user" class="header-anchor">#</a> Forget User</h2> <p>If a user requests to be forgotten, use the <code>forgetUser</code> method. This will delete all user details from our system, ensuring this meets digital guidelines for right to be forgotten.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>IonicRiskSdk<span class="token punctuation">.</span><span class="token function">forgetUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">RECOMMENDATION</p> <ul><li>When a user logs out, call both <code>stopPeriodicSync</code> and <code>resetData</code>  to:
<ul><li>Stop any ongoing periodic sync processes.</li> <li>Clear existing user data.
This approach ensures a clean state before the next user session.</li></ul></li></ul></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">12/26/2024, 7:38:37 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/device-connect/cordova.html" class="prev">
        Cordova SDK setup
      </a></span> <span class="next"><a href="/device-connect/error-codes.html">
        Error Codes
      </a>
      →
    </span></p></div> <div class="footer" data-v-692ea4ed><p data-v-692ea4ed><span class="item" data-v-692ea4ed>Copyright © 2024</span> <span class="item" data-v-692ea4ed>Moshpit Technologies Pvt. Ltd.</span></p></div></main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.f1ad2888.js" defer></script><script src="/assets/js/4.7f609412.js" defer></script><script src="/assets/js/2.a409744d.js" defer></script><script src="/assets/js/1.9be25c31.js" defer></script><script src="/assets/js/57.7a8c680e.js" defer></script><script src="/assets/js/24.440f9dc2.js" defer></script>
  </body>
</html>
