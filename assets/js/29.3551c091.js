(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{319:function(t,e,s){"use strict";s.r(e);var a=s(7),n=Object(a.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"deviceconnect-credits"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#deviceconnect-credits"}},[t._v("#")]),t._v(" DeviceConnect: Credits")]),t._v(" "),e("p",[t._v("This page is an "),e("strong",[t._v("extension")]),t._v(" to the documentation "),e("RouterLink",{attrs:{to:"/device-connect/rest-api.html"}},[t._v("here")]),t._v(" and lists additional "),e("strong",[t._v("Insights API Endpoints")]),t._v(" for fetching captured "),e("strong",[t._v("Credit Transactions")]),t._v("  of customers.\n​")],1),t._v(" "),e("div",{staticClass:"custom-block danger"},[e("p",{staticClass:"custom-block-title"},[t._v("IMPORTANT")]),t._v(" "),e("ul",[e("li",[t._v("Please refer to "),e("RouterLink",{attrs:{to:"/device-connect/rest-api.html#insights-api-request"}},[t._v("Insights API Request")]),t._v(" and "),e("RouterLink",{attrs:{to:"/device-connect/rest-api.html#insights-api-response"}},[t._v("Insights API Response")]),t._v(" to understand the "),e("strong",[t._v("request")]),t._v(" and "),e("strong",[t._v("response")]),t._v(" structure (including the data key) respectively.")],1),t._v(" "),e("li",[t._v("It is to be noted that for the "),e("strong",[t._v("Credits")]),t._v(" API, instead of "),e("code",[t._v("customer_id")]),t._v(", you have to provide "),e("code",[t._v("user_hash")]),t._v(" key.")]),t._v(" "),e("li",[e("code",[t._v("user_hash")]),t._v(" can be obtained using List Devices API. It is same as the "),e("code",[t._v("device_id")]),t._v(" key in the "),e("code",[t._v("data")]),t._v(" key object, as mentioned "),e("RouterLink",{attrs:{to:"/device-connect/credits.html#list-devices-api"}},[t._v("here")]),t._v(".")],1)])]),t._v(" "),e("h2",{attrs:{id:"insights-endpoint-request"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#insights-endpoint-request"}},[t._v("#")]),t._v(" Insights Endpoint Request")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Insights")]),t._v(" "),e("th",[t._v("Endpoint")]),t._v(" "),e("th",[t._v("Request Type")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("List Devices")]),t._v(" "),e("td",[t._v("/risk/device-ids")]),t._v(" "),e("td",[t._v("POST")]),t._v(" "),e("td",[t._v("Lists all the devices a customer has logged into")])]),t._v(" "),e("tr",[e("td",[t._v("Credits")]),t._v(" "),e("td",[t._v("/risk/credits")]),t._v(" "),e("td",[t._v("POST")]),t._v(" "),e("td",[t._v("Captured and enriched credit transactions of customer")])])])]),t._v(" "),e("h2",{attrs:{id:"data-key"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#data-key"}},[t._v("#")]),t._v(" "),e("code",[t._v("data")]),t._v(" Key")]),t._v(" "),e("h3",{attrs:{id:"list-devices-api"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#list-devices-api"}},[t._v("#")]),t._v(" List Devices API")]),t._v(" "),e("p",[t._v("List Devices API lists the devices that a customer has logged into. We use the keyword "),e("code",[t._v("device_id")]),t._v(" to denote a unique pair of customers and devices. "),e("strong",[t._v("It is important to note that two customers using the same device will generate two different device names.")])]),t._v(" "),e("p",[t._v("A sample response for the API is listed below:")]),t._v(" "),e("div",{staticClass:"language-json extra-class"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"customer_id"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"demo_lender_612022"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"request_id"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"d573c4f9-6ad0-4009-ad8b-5fd44e9a17ae"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"date_requested"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2020-01-06T15:34:15.391554Z"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"status"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"complete"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"date_processed"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2020-01-06T15:34:15.391554Z"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"message"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"data processed successfully"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"data"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"device_id"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"4aba67b51ef8c95bef2dd9f5cd6c0d08"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"last_opened"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2020-01-06T14:52:52Z"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"created"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2020-01-06T14:52:51Z"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"mobile_model"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"GOOGLE PIXEL 3A"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"app_open_count"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"given_permissions"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n                "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"contacts_permission"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"phone_state_permission"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"location_permission"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"calendar_permission"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"accounts_permission"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"sms_permission"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"storage_permission"')]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[t._v("Each of the objects in the "),e("code",[t._v("data")]),t._v(" key has the following keys:")]),t._v(" "),e("ul",[e("li",[e("strong",[t._v("device_id")]),t._v(": A unique identifier for each device a user has logged into.")]),t._v(" "),e("li",[e("strong",[t._v("last_opened")]),t._v(": Last time the user opened the app on this device.")]),t._v(" "),e("li",[e("strong",[t._v("created")]),t._v(": UTC time of when the device_id was created.")]),t._v(" "),e("li",[e("strong",[t._v("mobile_model")]),t._v(": A clean human-readable name of the model of the device from which the data is collected. Can be displayed to the user. Not suitable to be used in a program.")]),t._v(" "),e("li",[e("strong",[t._v("app_open_count")]),t._v(": The count of invocation of the "),e("code",[t._v("createUser")]),t._v(" method in the DeviceConnect Android SDK (Refer "),e("RouterLink",{attrs:{to:"/device-connect/android.html#create-user-method"}},[t._v("here")]),t._v("). It is a directional indicator of the number of times the customer has opened the app, though not necessarily the exact number (depends on your Android integration).")],1),t._v(" "),e("li",[e("strong",[t._v("given_permissions")]),t._v(": The permissions granted by the user on the device. It can have following values in the list:\n"),e("ul",[e("li",[e("code",[t._v("sms_permission")])]),t._v(" "),e("li",[e("code",[t._v("calls_permission")])]),t._v(" "),e("li",[e("code",[t._v("contacts_permission")])]),t._v(" "),e("li",[e("code",[t._v("location_permission")])]),t._v(" "),e("li",[e("code",[t._v("phone_state_permission")])]),t._v(" "),e("li",[e("code",[t._v("storage_permission")])]),t._v(" "),e("li",[e("code",[t._v("calendar_permission")])]),t._v(" "),e("li",[e("code",[t._v("accounts_permission")])]),t._v(" "),e("li",[e("code",[t._v("usage_permission")])])])])]),t._v(" "),e("div",{staticClass:"custom-block danger"},[e("p",{staticClass:"custom-block-title"},[t._v("IMPORTANT")]),t._v(" "),e("ul",[e("li",[t._v("In the "),e("strong",[t._v("Credits")]),t._v(" API you need "),e("code",[t._v("user_hash")]),t._v(" key instead of "),e("code",[t._v("customer_id")]),t._v(" in the request body.")]),t._v(" "),e("li",[e("code",[t._v("user_hash")]),t._v(" key value is the same as "),e("code",[t._v("device_id")]),t._v(" key value in the "),e("strong",[t._v("List Devices")]),t._v(" API response.")])])]),t._v(" "),e("h3",{attrs:{id:"credits-api"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#credits-api"}},[t._v("#")]),t._v(" Credits API")]),t._v(" "),e("p",[t._v("In the case of Credits API, the "),e("code",[t._v("data")]),t._v(" key in response holds an array of credit transaction objects.\n​")]),t._v(" "),e("p",[t._v("It is to be noted that "),e("strong",[t._v("Credits captured over only the last 6 months are given in\nresponse.")])]),t._v(" "),e("p",[t._v("​\nA sample credit object is listed below:")]),t._v(" "),e("div",{staticClass:"language-json extra-class"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"transaction_hash"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"unique_credit_transaction_hash"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"account_hash"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"unique_account_hash"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"channel"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"card"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"merchant"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"XXXX2309"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"timeinmilis"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1571732881768")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"amount"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("99.0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"servicename"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"HDFC"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"account_number"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"HDFC 1234"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"time"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2019-10-22 13:58:01"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[t._v("Each of the credit transaction objects have the following keys:")]),t._v(" "),e("ul",[e("li",[e("strong",[t._v("transaction_hash")]),t._v(": it is a unique identifier for each credit transaction made by the user. This\ndoesn’t change for any credit transaction over time.")]),t._v(" "),e("li",[e("strong",[t._v("tag")]),t._v(": We identify certain credits as special credits. They can be used to gain a\ndeeper sense of the user's financial profile. Such credit transactions are tagged as one of the\nbelow:\n"),e("ul",[e("li",[e("code",[t._v("Salary")])]),t._v(" "),e("li",[e("code",[t._v("Self Transfer")])]),t._v(" "),e("li",[e("code",[t._v("Credit Card Payment")])]),t._v(" "),e("li",[e("code",[t._v("Refund")])]),t._v(" "),e("li",[e("code",[t._v("Regular")])])])]),t._v(" "),e("li",[e("strong",[t._v("account_hash")]),t._v(": it is a unique identifier for the account in which the credit transaction was made.")]),t._v(" "),e("li",[e("strong",[t._v("channel")]),t._v(": this indicates the channel through which the credit transaction was made. It can be one of the following:\n"),e("ul",[e("li",[e("code",[t._v("netbanking")])]),t._v(" "),e("li",[e("code",[t._v("card")])]),t._v(" "),e("li",[e("code",[t._v("cash")])]),t._v(" "),e("li",[e("code",[t._v("cheque")])]),t._v(" "),e("li",[e("code",[t._v("upi")])]),t._v(" "),e("li",[e("code",[t._v("auto-debit")])])])]),t._v(" "),e("li",[e("strong",[t._v("merchant")]),t._v(": the Sending Party of a credit transaction")]),t._v(" "),e("li",[e("strong",[t._v("servicename")]),t._v(": The service whose message was captured to extract the given credit transaction. For example, if HDFC Bank sent an SMS to notify a debit, the "),e("strong",[t._v("servicename")]),t._v(" would be HDFC. This\nwon’t always be the bank that is associated with the credit transaction in question.")]),t._v(" "),e("li",[e("strong",[t._v("time")]),t._v(": The UTC time at which the transaction message was received by the user's device. It is of the format YYYY-MM-DD HH:MM:SS.")]),t._v(" "),e("li",[e("strong",[t._v("timeinmilis")]),t._v(": Time in milliseconds at which the transaction message was received since\nepoch")]),t._v(" "),e("li",[e("strong",[t._v("amount")]),t._v(": this indicates the monetary amount that the transaction was made for.")]),t._v(" "),e("li",[e("strong",[t._v("account_number")]),t._v(": a human-readable account number of the format: "),e("code",[t._v("<account company> <last 4 digits of account number>")])])])])}),[],!1,null,null,null);e.default=n.exports}}]);